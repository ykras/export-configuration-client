{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;;;;;;;AAEA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAM,gBAAgB,SAAhB,aAAgB;AAAA,SAAU;AAC9B,UAAM,MAAM,0BADkB;AAE9B,YAAQ,MAAM;AAFgB,GAAV;AAAA,CAAtB;;AAKA,IAAM,qBAAqB,+BAAgB,iBAAK,sBAAL,CAAhB,EAA8C,aAA9C,CAA3B;;AAEA,IAAM,0BAA0B,oCAAqB,iBAAK,4BAAL,CAArB,EAC9B;AAAA,SACE;AAAA;AAAA,MAAK,WAAU,gBAAf;AACE,2CAAK,WAAU,UAAf,EAA0B,KAAK,QAAQ,gCAAR,CAA/B;AADF,GADF;AAAA,CAD8B,CAAhC;;AAOA,IAAM,SAAS,oBACb,+BAAgB,aAAhB,CADa,EAEb,kBAFa,EAGb,uBAHa,wBAAf;;AAMA,IAAM,wBAAwB,SAAxB,qBAAwB,QAAS;AAAA,MAC9B,SAD8B,GACV,KADU,CAC9B,SAD8B;AAAA,MACnB,KADmB,GACV,KADU,CACnB,KADmB;;AAErC,SACE;AAAA;AAAA,MAAK,OAAO,KAAZ,EAAmB,WAAW,0BAAW,uBAAX,EAAoC,SAApC,CAA9B;AACE,kCAAC,MAAD,eAAY,KAAZ,IAAmB,WAAU,gBAA7B;AADF,GADF;AAKD,CAPD;;AASA,sBAAsB,SAAtB,GAAkC;AAChC,aAAW,iBAAU,MADW;AAEhC,SAAO,iBAAU,MAFe;AAGhC,8BAA4B,iBAAU,IAAV,CAAe,UAHX;AAIhC,8BAA4B,iBAAU,MAAV,CAAiB,UAJb;AAKhC,wBAAsB,iBAAU,MAAV,CAAiB,UALP;AAMhC,gBAAc,iBAAU,MANQ;AAOhC,uBAAqB,iBAAU,IAAV,CAAe;AAPJ,CAAlC;;AAUA,sBAAsB,YAAtB,GAAqC;AACnC,aAAW,IADwB;AAEnC,SAAO,IAF4B;AAGnC,gBAAc;AAHqB,CAArC;;AAMA,IAAM,kBAAkB,SAAlB,eAAkB,QAAS;AAC/B,MAAM,uBAAuB,oBAAU,+BAAV,CAA0C,KAA1C,CAA7B;AACA,SAAO;AACL,8CADK;AAEL,gCAA4B,oBAAU,UAAV,CAAqB,KAArB,EAA4B,uBAAa,mBAAb,CAAiC,oBAAjC,CAA5B,CAFvB;AAGL,kBAAc,oBAAU,yBAAV,CAAoC,KAApC;AAHT,GAAP;AAKD,CAPD;;AASA,IAAM,2BAA2B;AAC/B,8BAA4B,kBAAe,0BADZ;AAE/B,uBAAqB,kBAAe;AAFL,CAAjC;;kBAKe,yBAAQ,eAAR,EAAyB,wBAAzB,EAAmD,qBAAnD,C","file":"index-compiled.js","sourcesContent":["'use strict';\r\n\r\nimport React, {PropTypes} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport './OverviewPictureEditor.css';\r\nimport classNames from 'classnames';\r\nimport ImageEditor from '../ImageEditor';\r\nimport withLoadingIndicator from '../../higher_order_components/withLoadingIndicator';\r\nimport withDataRequest from '../../higher_order_components/withDataFetch/withDataRequest';\r\nimport withDataRefresh from '../../higher_order_components/withDataFetch/withDataRefresh';\r\nimport actionCreators from '../../store/actions';\r\nimport selectors from '../../store/selectors';\r\nimport requestTypes from '../../common/requestTypes';\r\nimport {prop, compose} from 'ramda';\r\n\r\nconst selectRequest = props => ({\r\n  send: props.requestReadOverviewPicture,\r\n  params: props.recognitionChannelId\r\n});\r\n\r\nconst andWithDataRefresh = withDataRefresh(prop('recognitionChannelId'), selectRequest);\r\n\r\nconst andWithLoadingIndicator = withLoadingIndicator(prop('readOverviewPictureRequest'),\r\n  () => (\r\n    <div className=\"picture-height\">\r\n      <img className=\"centered\" src={require(\"../../images/image_missing.png\")}/>\r\n    </div>\r\n  ));\r\n\r\nconst Editor = compose(\r\n  withDataRequest(selectRequest),\r\n  andWithDataRefresh,\r\n  andWithLoadingIndicator,\r\n)(ImageEditor);\r\n\r\nconst OverviewPictureEditor = props => {\r\n  const {className, style} = props;\r\n  return (\r\n    <div style={style} className={classNames('OverviewPictureEditor', className)}>\r\n      <Editor {...props} className=\"picture-height\"/>\r\n    </div>\r\n  );\r\n};\r\n\r\nOverviewPictureEditor.propTypes = {\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  requestReadOverviewPicture: PropTypes.func.isRequired,\r\n  readOverviewPictureRequest: PropTypes.object.isRequired,\r\n  recognitionChannelId: PropTypes.string.isRequired,\r\n  imageDataUrl: PropTypes.string,\r\n  onRectangleSelected: PropTypes.func.isRequired\r\n};\r\n\r\nOverviewPictureEditor.defaultProps = {\r\n  className: null,\r\n  style: null,\r\n  imageDataUrl: null\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const recognitionChannelId = selectors.getSelectedRecognitionChannelId(state);\r\n  return {\r\n    recognitionChannelId,\r\n    readOverviewPictureRequest: selectors.getRequest(state, requestTypes.readOverviewPicture(recognitionChannelId)),\r\n    imageDataUrl: selectors.getOverviewPictureDataUrl(state)\r\n  };\r\n};\r\n\r\nconst mapActionCreatorsToProps = {\r\n  requestReadOverviewPicture: actionCreators.requestReadOverviewPicture,\r\n  onRectangleSelected: actionCreators.updateOverviewPictureSelectedRectangle\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionCreatorsToProps)(OverviewPictureEditor);\r\n"]}