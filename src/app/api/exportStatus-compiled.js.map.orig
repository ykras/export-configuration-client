{"version":3,"sources":["exportStatus.js"],"names":[],"mappings":"AAAA;;;;;;;;;;AAEA;;AACA;;AAEA,IAAM,aAAa,sBAAW,aAAX,CAAnB;;AAEA,IAAM,uBAAuB,SAAvB,oBAAuB;AAAA;AAAA,MAAE,KAAF;AAAA,MAAS,KAAT;;AAAA,SAAoB,CAAC,KAAD,EAAQ,0BAAU,KAAV,EAAiB,wBAAQ,UAAR,CAAjB,CAAR,CAApB;AAAA,CAA7B;;AAEA,IAAM,eAAe,SAAf,YAAe;AAAA;AAAA,MAAE,WAAF;AAAA;AAAA,MAA2B,WAA3B,UAAgB,QAAhB,CAA2B,WAA3B;AAAA,MAAiD,aAAjD,UAAyC,MAAzC;;AAAA,sBAChB,WADgB;AAEnB,4BAFmB;AAGnB;AAHmB;AAAA,CAArB;;AAMA,IAAM,OAAO,SAAP,IAAO;AAAA,SAAW,CAAI,OAAJ,wBAAmC,OAAnC,sBAAX;AAAA,CAAb;;kBAEe;AACb,oBAAkB;AAAA,QAAC,OAAD,uEAAW,EAAX;AAAA,WAAkB,QAAQ,GAAR,CAAY,KAAK,OAAL,EAAc,GAAd,kBAAZ,EACjC,IADiC,CAC5B,oBAD4B,EAEjC,IAFiC,CAE5B,YAF4B,CAAlB;AAAA;AADL,C","file":"exportStatus-compiled.js","sourcesContent":["'use strict';\r\n\r\nimport {fetchJson} from './utils';\r\nimport {normalize, Schema, arrayOf} from 'normalizr';\r\n\r\nconst exportType = new Schema('exportTypes');\r\n\r\nconst normalizeFetchedData = ([state, types]) => [state, normalize(types, arrayOf(exportType))];\r\n\r\nconst returnResult = ([exportState, {entities: {exportTypes}, result: exportTypeIds}]) => ({\r\n  ...exportState,\r\n  exportTypes,\r\n  exportTypeIds\r\n});\r\n\r\nconst urls = baseUrl => [`${baseUrl}/api/exportStatus`, `${baseUrl}/api/exportTypes`];\r\n\r\nexport default {\r\n  readExportStatus: (baseUrl = '') => Promise.all(urls(baseUrl).map(fetchJson))\r\n    .then(normalizeFetchedData)\r\n    .then(returnResult)\r\n};\r\n"]}